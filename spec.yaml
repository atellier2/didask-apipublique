openapi: 3.0.1
info:
  title: API Publique de Didask
  version: "1.1.0"
  contact:
    name: Didask
    email: assistance@didask.com
    url: https://didask.com
  description: |-
    # API Publique Didask
    ## Introduction
    Lâ€™API Didask vous permet principalement de :
    - gÃ©rer l'organisation des utilisateurs de votre application Didask
    - consulter l'avancement de l'apprentissage des apprenants.

    Si vous souhaitez gÃ©rer le contenu des publications (=contenus pÃ©dagogiques),
    il est nÃ©cessaire de passer par le systÃ¨me SCORM Ã©galement gÃ©rÃ© par Didask. L'API publique ne sera pas adaptÃ©e.

    Exemple courant d'usage de l'API Publique : 
      - CrÃ©ation des utilisateurs
      - RÃ©cupÃ©ration de l'avancement des apprentissages
      
    ## Documentation fonctionnelle
    ### Espaces de travail
    Lâ€™application Didask est organisÃ©e en espaces de travail. Ces espaces permettent d'organiser les groupes d'utilisateurs, les publications, etc.

    > ğŸ’¡ L'espace de travail est un Ã©lÃ©ment structurant de la plateforme Didask. Rapprochez-vous de votre consultant Didask pour les utiliser Ã  bon escient.

    L'[API](#tag/Espace-de-travail) vous permet de rÃ©aliser les principales opÃ©rations sur les espaces de travail (Consultation, crÃ©ation, modification et suppression).

    ### Publications
    Les publications sont les contenus pÃ©dagogiques mis Ã  disposition des apprenants. 
    
    L'[API]((#tag/Publication)) vous permet de les consulter mais pas de les modifier. Pour interfacer les publications, prÃ©fÃ©rez l'utilisation du SCORM Connect

    ### Groupe d'utilisateur
    Les groupes d'utilisateur permettent de donner l'accÃ¨s Ã  certaines  publications Ã  des utilisateur en dÃ©finissant le rÃ´le qu'ils jouent vis-Ã -vis de ces publications.
    Les rÃ´les possibles sont : 
      - ``learner`` : apprenant
      - ``coach`` : animateur
      - ``author`` : concepteur
      - ``admin`` : administrateur
    
    Les groupes sont dÃ©finis Ã  lâ€™intÃ©rieur dâ€™un espace de travail et ne peuvent appartenir quâ€™Ã  un seul espace de travail.

    Deux groupes de travail ne peuvent pas avoir le mÃªme nom et ce, mÃªme sâ€™ils sont dans deux espaces de travail diffÃ©rents.

    Un groupe utilisateur peut avoir une date d'expiration qui est une date optionnelle Ã  partir de laquelle les apprenants 
    n'auront plus accÃ¨s aux publications.

    L'[API](#tag/Groupe-d'utilisateurs) vous permet de rÃ©aliser les principales opÃ©rations de gestion des groupes d'utilisateur (crÃ©ation, modification, suppression, affectation d'utilisateurs).

    ### Utilisateurs
    Un utilisateur peut appartenir Ã  plusieurs espaces de travail mais il ne peut avoir le rÃ´le d'apprenant que dans un seul espace de travail.
    La clÃ© dâ€™unicitÃ© de lâ€™utilisateur est donnÃ©e par son adresse email. Il nâ€™est pas possible de crÃ©er deux utilisateurs avec deux id diffÃ©rents et le mÃªme email.

    ## Documentation technique
    ### Environnement
    DÃ¨s lors que vous avez un environnement Didask vous avez accÃ¨s Ã  l'API publique.

    Cette API est disponible Ã  l'adresse ```votrenom.didaks.com/api/v1```
    ### Authentification
    L'authentification se fait Ã  l'aide de l'API ```votrenom.didaks.com/api/login/auth```. 

    > ğŸ’¡Notez qu'il n'y a pas le ``v1`` dans l'URL
    
    L'authentification peut Ãªtre rÃ©alisÃ©e par login/mot de passe ou via l'authentification SSO.

    Seuls les utilisateurs ayant le rÃ´le d'enseignant peuvent utiliser cette API.

    Dans les deux cas, l'API vous renverra un cookie  contenant 
    la clÃ© `sid`. Le cookie `sid` doit ensuite Ãªtre inclus dans les requÃªtes pour accÃ©der aux API.

    ```
    **Request Headers**
    User-Agent: xxxxxxx
    Cookie: sid=670e24927e3b774eff8bf73e
    ...
    ```

    Cette authentification est valable 1 journÃ©e (24h).  

    ### Identifiants uniques
    Chaque ressource (publication, utilisateur, groupe, espace, etc.) est identifiÃ©e de maniÃ¨re unique par un id qui est gÃ©nÃ©rÃ© uniquement par Didask et qui est non modifiable. 
    Cet ID est une chaÃ®ne de 12 octets (ou 24 caractÃ¨res hexadÃ©cimaux).

    > Exemple : ```ertab7234eb4vbnd2e943501```

    ### Retour des API

    La plupart des API retournent les informations sous le format suivant : 


    ```json
    {
        // DonnÃ©es que vous avez demandÃ©es
        "data": [
            //Les donnÃ©es sont organisÃ©es en une liste avec une
            //ou plusieurs valeurs en fonction du type de demande.
            {
                "cle": "valeur",
                "cle2": "valeur2",
                ...
            }
        ],

        //Dans le cas oÃ¹ il y a une erreur, le bloc suivant sera retournÃ© sinon 
        //la clÃ© ``error`` prendra la valeur ``null``v
        "error": {
            "id": "f1c8711f-0a0f-4869-8922-3f41f2e26d82",
            "message": "Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer",
            "code": "error.unknown",
            "status": 500,
            "cause": {
                "message": "ComplÃ©ment d'informations"
            }
        }
    }
    ```

    ### Codes retour
    De maniÃ¨re gÃ©nÃ©rale, les codes retours utilisÃ©s sont les codes standards : 

    - 2XX : l'appel a rÃ©ussi
    - 500 : l'appel a Ã©chouÃ©. C'est principalement le cas quand les donnÃ©es communiquÃ©es n'ont pas le bon format

    ### Tests de l'API

    Pour tester l'API, vous pouvez utiliser un outil tel que Postman ou CURL. La spÃ©cification est librement tÃ©lÃ©chargeable (en haut de la page).
    Cette spÃ©cification peut Ãªtre importÃ©e dans Postman (https://learning.postman.com/docs/getting-started/importing-and-exporting/importing-from-swagger/)


servers:
  - url: https://votrenom.didask.com/api/v1
    description: Serveur de test
security:
  - CookieAuth: []
tags:
  - name: Authentification
    description: Comment se connecter Ã  Didask ?
  - name: Espace de travail
    description: Actions sur les espaces de travail
    externalDocs:
      url: >-
        https://help.didask.com/fr/articles/9154880-comment-organiser-et-segmenter-ma-plateforme-par-espaces-de-formation
  - name: Groupe d'utilisateurs
    description: Actions sur les groupes d'utilisateur
  - name: Utilisateur
    description: Gestion des utilisateurs de la plateforme Didask
  - name: Publication
    description: >-
      Liste des publications et de l'avancement des apprenants. 

paths:
  /users:
    get:
      summary: Liste des utilisateurs avec les publications auxquelles ils on accÃ¨s.
      operationId: getUser
      description: |-
        Cette API permet de lister les utilisateurs Didask en filtrant sur diffÃ©rents paramÃ¨tres (le nom, le matricule, l'email ...)

        Par dÃ©faut, seuls 10 utilisateurs sont retournÃ©s. Vous pouvez ajuster l'index de pagination pour accÃ©der aux utilisateurs suivants.
        Le nombre d'utilisateurs par page est paramÃ©trable.

        Pour chaque utilisateur, les informations dÃ©taillÃ©es ainsi que la liste des publications auxquelles il a accÃ¨s sont renvoyÃ©es.

        Note : Cette API est limitÃ©e Ã  un seul espace de travail par appel.
      parameters:
        - in: query
          name: limit
          required: false
          description: Nombre d'utilisateurs Ã  retourner (0 = illimitÃ©). Par dÃ©faut, 10 utilisateurs sont retournÃ©s.
          schema:
            type: integer
            default: 10
          example: 10
        - in: query
          name: skip
          required: false
          description: Index du premier utilisateur Ã  retourner pour la pagination (dÃ©calage).
          schema:
            type: integer
            default: 0
          example: 0
        - in: query
          name: spaceId
          required: false
          description: Filtrer par ID d'espace de travail. Si non renseignÃ©, l'espace de travail par dÃ©faut est utilisÃ©.
          schema:
            type: string
          example: 65305dfc128086ef68c5d03f
        - in: query
          name: email
          required: false
          description: Filtrer par une partie de l'email de l'utilisateur.
          schema:
            type: string
          example: dupont@
        - in: query
          name: accessCode
          required: false
          description: Matricule de l'utilisateur
          schema:
            type: string
        - in: query
          name: id
          required: false
          description: Filtrer sur l'ID de l'utilisateur
          schema:
            $ref: '#/components/schemas/DidaskId'
          example: 65305dfc128086ef68c5d03f
      tags:
        - Utilisateur
      responses:
        '200':
          description: Liste des utilisateurs correspondants aux critÃ¨res de recherche.
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    description: Liste des utilisateurs filtrÃ©s.
                    items:
                      $ref: '#/components/schemas/Utilisateur'
                  totalUsers:
                    type: integer
                    description: Nombre total d'utilisateurs correspondant aux filtres appliquÃ©s.
                    example: 225
                  error:
                    type: object
                    description: Champ null, utilisÃ© uniquement en cas d'erreur.
                    nullable: true
        '400':
          description: Erreur lors de la recherche des utilisateurs.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    $ref: '#/components/schemas/Error'

    post:
      summary: CrÃ©ation d'un nouvel utilisateur
      description: |
        L'utilisateur sera ajoutÃ© Ã  l'espace de travail par dÃ©faut si aucun `spacesIds` n'est spÃ©cifiÃ©.
        
        
        Lors de sa crÃ©ation, l'utilisateur a automatiquement un rÃ´le "apprenant" (Learner) qui lui est donnÃ© sur l'espace de travail de rattachement.


        Soit on utilise l'identification par email/mot de passe, soit on utilise la connexion SSO via oidcIssuer et oidcSubject.
      tags:
        - Utilisateur
      requestBody:
        required: true
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                email:
                  type: string
                  description: Email de l'utilisateur Ã  crÃ©er
                  example: "john.doe@example.com"
                password:
                  type: string
                  pattern: "^(?=.*[a-zA-Z])(?=.*\\d)[a-zA-Z-9]{8,}$"
                  #quel pattern faut il respecter ?
                  description: |
                      Mot de passe en clair de l'utilisateur Ã  crÃ©er.
                      Il doit contenir 8 cractÃ¨res minimum:  avec au moins une lettre et un chiffre
                  example: "password123"
                firstName:
                  type: string
                  description: PrÃ©nom de l'utilisateur Ã  crÃ©er
                  example: "John"
                lastName:
                  type: string
                  description: Nom de famille de l'utilisateur Ã  crÃ©er
                  example: "Doe"
                spacesIds:
                  type: array
                  items:
                      $ref: "#/components/schemas/DidaskId"
                  description: >
                      Liste d'ID des espaces de travail oÃ¹ l'utilisateur sera ajoutÃ©. Si aucun espace de travail 
                      n'est fourni, l'utilisateur sera crÃ©Ã© dans l'espace de travail par dÃ©faut.
                  example: ["65305dfc128086ef68c5d03f"]
                oidcIssuer:
                  type: string
                  description: >
                      Identifiant du fournisseur d'identitÃ© OpenID Connect (OIDC) qui a Ã©mis le jeton pour cet utilisateur.
                  example: "https://example-oidc.com/"
                oidcSubject:
                  type: string
                  description: >
                      Identifiant unique de l'utilisateur dans le cadre de l'authentification OpenID Connect (OIDC).
                  example: "abcd1234"
                accessCode:
                  type: string
                  description: "Matricule ou code d'accÃ¨s Ã  la plateforme. (Mode d'authentification alternatif Ã  l'email/password)"
                  example: "moncode23154"
      responses:
        '200':
          description: Utilisateur crÃ©Ã© avec succÃ¨s
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: '#/components/schemas/Utilisateur'
                  error:
                    type: object
                    nullable: true
                    description: Null lorsque la crÃ©ation a rÃ©ussie
        '400':
            description: Erreur lors de la crÃ©ation de l'utilisateur.
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    error: 
                      $ref: '#/components/schemas/Error'
        '500':
            description: |
                Erreur lors de la crÃ©ation de l'utilisateur.

                Les causes possibles sont : 
                  - Les donnÃ©es fournies n'ont pas le format demandÃ©. (Exemple : mot de passe qui n'a pas la bonne syntaxe)
                  - Un utilisateur avec cet email existe dÃ©jÃ .
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    error: 
                      $ref: '#/components/schemas/Error'

  /users/{userId}:
    get:
      
      tags:
        - Utilisateur
      summary: 
        RÃ©cupÃ¨re un utilisateur spÃ©cifique par son ID
      description: >
       RÃ©cupÃ¨re les informations dÃ©taillÃ©es d'un utilisateur spÃ©cifique par son ID.

       > ğŸš¨ Il est prÃ©fÃ©rable de passer par l'[API ``GET /users?id=xxxxx``](#tag/Utilisateur/operation/getUser)
      deprecated: true
      parameters:
        - in: path
          name: userId
          schema:
            type: string
          required: true
          description: ID de l'utilisateur
      responses:
        '200':
          description: Fiche dÃ©taillÃ©e de l'utilisateur.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Utilisateur'
    put:
      summary: Mettre Ã  jour un utilisateur spÃ©cifique
      description: Met Ã  jour les informations d'un utilisateur spÃ©cifique par son ID.
      tags:
          - Utilisateur
      parameters:
      - in: path
        name: userId
        schema:
          type: string
        required: true
        description: ID de l'utilisateur
      requestBody:
        content:
          application/x-www-form-urlencoded:
              schema:
                type: object
                properties:
                  email:
                    type: string
                    description: Email de l'utilisateur
                    example: "john.doe@example.com"
                  first_name:
                    type: string
                    description: PrÃ©nom de l'utilisateur
                    example: "John"
                    #FIXME : Mettre en camel case comme dans le post
                  last_name:
                    type: string
                    description: Nom de famille de l'utilisateur
                    example: "Doe"
                    #fixme : mettre en camel case comme dans le post
                  isStandard:
                    type: boolean
                    deprecated: true
                    description: SpÃ©cifie si l'utilisateur est un utilisateur standard
                    example: true
      responses:
        '200':
            description: Fiche de l'utilisateur avec les nouvelles donnÃ©es mises Ã  jour
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Utilisateur'
      
  /users/{userId}/account-availability:
    put:
      summary: Mettre Ã  jour la disponibilitÃ© d'un utilisateur.
      description: |
              Cette API peut Ãªtre utilisÃ©e pour activer ou dÃ©sactiver un Utilisateur

              Lorsqu'un utilisateur est dÃ©sactivÃ©, la date ``disabledDate`` est mise Ã  jour automatiquement.
              De mÃªme, lorsqu'un utilisateur est rÃ©activÃ©, la date ``disabledDate` est rÃ©initialisÃ©e.

              ğŸš¨ Lorsqu'un utilisateur est dÃ©sactivÃ©, il est supprimÃ© de tous les groupes auxquels il appartient et lors de sa rÃ©activation
              il reste sans groupe.

              Remarque : si vous atteignez le nombre maximal de licence pour votre organisation, vous aurez une erreur 403.
      tags:
        - Utilisateur
      parameters:
        - in: path
          name: userId
          required: true
          description: "ID de l'utilisateur"
          schema:
              $ref: '#/components/schemas/DidaskId'

      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                disable:
                  type: boolean
                  description: Est ce que l'utilisateur doit Ãªtre dÃ©sactivÃ© (true) ou non (false)
                  example: true
      responses:
        '200':
            description: Fiche de l'utilisateur avec les nouvelles donnÃ©es mises Ã  jour
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/Utilisateur'
        '403':
            description: |
                      Erreur de lors de l'activation de l'utilisateur. 

                      VÃ©rifiez que vous n'avez pas atteint le nombre maximal d'utilisateurs pour votre organisation
                  

  /publications:
    get:
      summary: Liste des publications
      description: |
        Cette API vous permet d'avoir la liste des publications disponibles.

        Pour chaque publication est Ã©galement accessible la liste des utilisateurs et
        celle des groupes y ayant accÃ¨s.
      tags:
        - Publication
      security:
        - CookieAuth: []
      responses:
        '200':
          description: Liste de toutes les publications
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    description: Tableau de publications
                    items:
                      $ref: '#/components/schemas/Publication'
                additionalProperties: false

  /publications/{publicationId}:
    get:
      summary: RÃ©cupÃ©rer une publication spÃ©cifique
      description: RÃ©cupÃ¨re les informations d'une publication spÃ©cifique par son ID.
      tags:
        - Publication
      parameters:
        - in: path
          name: publicationId
          description: Id de la publication que l'on souhaite consulter
          required: true
          schema:
            $ref: '#/components/schemas/DidaskId'
          example: "ussd97115800497115800g20"
      responses:
        '200':
          description: Informations sur une publication spÃ©cifique
          content:
              application/json:
                  schema:
                      $ref: '#/components/schemas/Publication'   
        '404':
          description: La publication n'existe pas
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    #FIXME : Modifier le format de rÃ©ponse pour utiliser le format d'erreur par dÃ©faut
                    example: Publication not found
        '500':
          description: |
            Erreur lors de la recherche de la publication."

            Cette erreur se produit lorsque l'ID n'a pas le bon format.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    #FIXME : Modifier le format de rÃ©ponse pour utiliser le format d'erreur par dÃ©faut
                    example: Internal server error
                additionalProperties: false

  /users/invite:
    post:
      summary: Envoyer une invitation pour une publication Ã  un utilisateur
      #FIXME : Je n'ai pas rÃ©ussi Ã  faire fonctionner cette API.
      # Quels sont les prÃ©requis techniques ?
      description: >
        Envoie une invitation par email Ã  
        un utilisateur pour accÃ©der Ã  une publication.
      #IDEA : Avoir une API api/v1/publications/invite qui envoie aux apprenants qui n'ont pas terminÃ© leur publication sans avoir Ã  lister tous les mails
      #FIXME : VÃ©rifier que les mails appartiennent Ã  des utilisateurs qui ont accÃ¨s Ã  la publication ?
      tags:
        - Utilisateur
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                emails:
                  type: array
                  description: Liste des emails auxquels il faut envoyer l'invitation
                  items:
                    type: string
                  example: ["user@example.com"]
                message:
                  type: string
                  description: texte sans formatage qui va Ãªtre envoyÃ© aux utilisateurs.
                  #FIXME : interdire les formattage
                  example: "Vous Ãªtes invitÃ© Ã  rejoindre la publication."
                courseId:
                  #FIXME : Utiliser PublicationId comme dans les autres API ?
                  type: string
                  description: Identifiant de la publication pour laquelle l'apprenant va Ãªtre invitÃ©e.
                  example: "ussd97115800497115800g20"
                locale:
                  type: string
                  description: code de la langue du mail d'invitation.
                  enum:
                    - en
                    - cs
                    - de
                    - es
                    - fr
                    - it
                    - ja
                    - nl
                    - pl
                    - zh
                    - ar
                    - ru
                    - pt
                    - tr
                    - uk
                    - ro
                    - vi
                  example: "fr"
      responses:
        '200':
          description: Invitation envoyÃ©e avec succÃ¨s

  /auth/login:
      servers:
          - url: https://trial.didask.com/api
            description: Racine de l'API
      post:
        summary: Authentification 
        tags:
        - Authentification
        description: |-
          - Appelez l'endpoint POST d'authentification de cette API avec votre email et mot de passe 
          de la plateforme Didask.
          
          - Vous obtiendrez la valeur d'un cookie appelÃ© sid (identifiant de session) dans les en-tÃªtes de la rÃ©ponse.
          Ensuite, 
          - Ajoutez le sid rÃ©cupÃ©rÃ© en tant que ``Cookie sid=`` dans l'en-tÃªte de toute requÃªte que vous souhaitez envoyer Ã  cette API publique.


          >ğŸ’¡ Notez que seuls les utilisateurs ayant le rÃ´le d'enseignant peuvent utiliser cette API.


          >ğŸš¨ : cette API est la seule qui ne prend pas comme racine l'URL ``/api/v1`` mais directement ``auth/login``.
        requestBody:
          required: true
          content:
            application/x-www-form-urlencoded:
              schema:
                type: object
                properties:
                  email:
                    type: string
                    description: Email de l'utilisateur de connexion
                    example: user@example.com
                  password:
                    type: string
                    description: Mot de passe de l'utilisateur
                    example: userpassword
                  strategy:
                    type: string
                    enum: 
                      - "emailPassword"
                      - "sso"
                    description: StratÃ©gie d'authentification (ex. "emailPassword")
                    # FIXME n'utiliser que la stratÃ©gie emailPassword
                    
                    example: emailPassword
              
        responses:
          '200':
            description: Connexion rÃ©ussie, un cookie `sid` est renvoyÃ©.
            headers:
              Set-Cookie:
                description: Cookie de session contenant `sid`.
                schema:
                  type: string
            content:
              application/json:
                schema:
                  type: object
                  example: {}
          '400':
            description: Connexion Ã©chouÃ©e. Les identifiant ne sont pas les bons
            content:
              application/json:
                schema:
                  type: object
                  example: {}

          '403':
            $ref: '#/components/responses/UnauthorizedError'
  /groups:
    get:
      summary: Liste des groupes d'utilisateurs
      tags:
        - Groupe d'utilisateurs
      description: >
        RÃ©cupÃ¨re la liste de tous les groupes de tous les espaces de travail.

        Il est possible de filtrer sur tout ou partie du nom.
      security:
        - CookieAuth: []
      parameters:
        - in: query
          name: name
          required: false
          schema:
            type: string
          example: compta
          description: >
            Texte Ã  rechercher dans le nom des groupes d'utilisateurs.


            Le texte n'est pas sensible Ã  la casse. ```compta``` permettra de retrouver les groupes "ComptabilitÃ©, Compta, Servcice comptable, ...."
      responses:
        '200':
          description: Liste des groupes
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Group'
                  error:
                    $ref: '#/components/schemas/ErrorNull'
        '403':
          $ref: '#/components/responses/UnauthorizedError'

    post:
      summary: CrÃ©er un nouveau groupe utilisateur
      tags:
        - Groupe d'utilisateurs
      description: >
        CrÃ©e un nouveau groupe avec les informations fournies dans le corps de la requÃªte.

      #FIXME : Comment fait-on pour dÃ©finir l'espace de travail auquel rattacher le groupe ?
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  example: "Nouveau groupe"
                  description: "Nom du groupe d'utilisateurs. Attention ce nom doit Ãªtre unique"
                trainingSpace:
                  #FIXME : on utilise parfois trainingSpace et parfois SpaceID. Rendre obsolete ce paramÃ¨tre et ajoutre SpaceID
                  type: string
                  example: "65305dfc128086ef68c5d03f"
                  description: >
                    Espace de travail auquel rattacher le groupe Ã  crÃ©er. 
                    S'il n'est pas dÃ©fini, c'est l'espace de travail par dÃ©faut qui sera utilisÃ©.
                expirationDate:
                  type: string
                  example: "2023-12-31"
                  #FIXME : quel est le format Ã  utiliser pour la date ? Je n'y arrive pas.
                  # Jâ€™ai dÃ©couvert un bug suite Ã  ta remarque, actuellement il faut passer un objet Date (new Date()) uniquement. Petite modification Ã  faire pour accepter les formats 2023-01-10T00:00:00.000Z, 2023-01-10, 1/10/23 1/10/23 et new Date()
                  description: "Date Ã  partir de laquelle les publications ne seront plus visibles pour les apprenants"
                  
      responses:
        '200':
          description: Groupe crÃ©Ã© avec succÃ¨s
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  data:
                    $ref: '#/components/schemas/GroupDetail'
                    #FIXME : Il y a une erreur sur lâ€™api qui retourne ce format, on retourne le document brut qui provient de la DB alors quâ€™il devrait Ãªtre formatÃ© => Passer sur le modÃ¨le Group
                  error:
                    $ref: '#/components/schemas/ErrorNull'
        '400':
          description: Erreur lors de la crÃ©ation du groupe d'utilisateur. L
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    $ref: '#/components/schemas/Error'
        '403':
          $ref: '#/components/responses/UnauthorizedError'

  
  /groups/{groupId}:
    get:
      summary: DÃ©tail d'un groupe d'utilisateurs
      tags:
        - Groupe d'utilisateurs
      description: >
        RÃ©cupÃ¨re les informations d'un groupe spÃ©cifique en utilisant son ID.

        Si le groupe n'est pas retrouvÃ©, l'API renvoie un objet vide.
      parameters:
        - in: path
          name: groupId
          required: true
          schema:
            $ref: '#/components/schemas/DidaskId'
          description: ID du groupe Ã  rÃ©cupÃ©rer
      responses:
        '200':
          description: Informations sur le groupe
          content:
            application/json:
              #TODO ourquoi ne pas garder le format dÃ©taillÃ© en sortie ? On n'a pas beaucoup de dÃ©tail
              schema:
                type: object
                nullable: true
                properties:
                  data:
                    $ref: '#/components/schemas/Group'
                      
              #FIXME : Mettre Ã  jour le format de sortie pour mettre l'error Ã  null comme dans les autres appels
                      
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        # FIXME : quand on recherche un groupe qui n'existe pas, on a un code retour 200 
        # avec une rÃ©ponse null. Pourquoi ne pas faire un code retour 404 ? 

    put:
      summary: Modifier un groupe utilisateur
      description: >
        L'API propose de pouvoir modifier le nom et la date d'expiration d'un groupe utilisateur.

        Si l'on souhaite supprimer la date d'expiration il suffit d'envoyer une date vide.
      tags:
        - Groupe d'utilisateurs
      
      parameters:
        - in: path
          name: groupId
          required: true
          schema:
            type: string
          description: ID du groupe Ã  mettre Ã  jour

      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  example: "Nouveau nom"
                expirationDate:
                  type: string
                  description: date Ã  partir de laquelle les apprenants n'auront plus accÃ¨s aux publications du groupe.
                  example: "2023-12-31"
      responses:
        '200':
          description: Groupe mis Ã  jour avec succÃ¨s
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    $ref: "#/components/schemas/GroupDetail"
                    #FIXME : Il y a une erreur sur lâ€™api qui retourne ce format, on retourne le document brut qui provient de la DB alors quâ€™il devrait Ãªtre formatÃ© => Passer sur le modÃ¨le Group
        '403':
          $ref: '#/components/responses/UnauthorizedError'

    delete:
      summary: Supprimer un groupe utilisateur
      tags:
        - Groupe d'utilisateurs
      description: >
        Supprime un groupe un groupe utilisateur Ã  partir de son ID.


        ğŸš¨ Le groupe est supprimÃ© mÃªme s'il a des utilisateurs et des publications ! ğŸš¨
      parameters:
        - in: path
          name: groupId
          required: true
          schema:
            type: string
          description: ID du groupe Ã  supprimer
      responses:
        '204':
          description: Groupe supprimÃ© avec succÃ¨s
          content: {}
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        #FIXME : Si le groupe Ã  supprimer n'existe pas on a un retour 204 comme si tout Ã©tait ok. IL faudrait ajouter une erreur 404

  

  /groups/{groupId}/users/{userId}:
    put:
      summary: Ajouter un utilisateur (apprenant) Ã  un groupe.
      description: >
        Cette API permet d'ajouter un utilisateur Ã  un groupe. Cet utilisateur aura obligatoirement le rÃ´le d'apprenant.
        

        Il n'est pas possible d'ajouter un utilisateur avec un autre rÃ´le.
      tags:
        - Groupe d'utilisateurs
        - Utilisateur
      parameters:
        - in: path
          name: groupId
          required: true
          example: 6661758bc1ec3600177f42d1
          schema:
            $ref: '#/components/schemas/DidaskId'
          description: ID du groupe
        - in: path
          name: userId
          example: 6661758bc1ec3600177f42d1
          required: true
          schema:
            $ref: '#/components/schemas/DidaskId'
          description: ID de l'utilisateur
      responses:
        '204':
          description: L'utilisateur a correctement Ã©tÃ© ajoutÃ© au groupe d'utilisateurs.
          content: {}
          #FIXME : si l'on utilise des ID correctement formatÃ©s mais qui n'existent pas 
          # on n'a aucune info sur le fait que cela n'a pas fonctionnÃ©
          # => Ajouter une nouvelle rÃ©ponse
        '500':
          description: >
            Les ID communiquÃ©s ne sont pas de la bonne forme.
            

            le code renvoyÃ© sera ```error.unknown```
          content:
            application/json:
              schema:
                type: object
                properties:
                  data: 
                    type: object
                    nullable: true
                    description: Aucune valeur ne sera retournÃ©e
                    example: null
                  error:
                    $ref: '#/components/schemas/Error'
    delete:
      summary: Supprimer un utilisateur d'un groupe
      description: >
        Supprime un utilisateur d'un groupe spÃ©cifiÃ©. 
      tags:
        - Groupe d'utilisateurs
      parameters:
        - in: path
          name: groupId
          required: true
          schema:
            type: string
          description: ID du groupe
        - in: path
          name: userId
          required: true
          schema:
            type: string
          description: ID de l'utilisateur
      responses:
        '204':
          description: Utilisateur supprimÃ© du groupe
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Groupe ou utilisateur non trouvÃ©

  /spaces:
    get:
      summary: Liste des espaces de travail
      description: >
        Cette API permet de rÃ©cupÃ¨rer la liste de tous les espaces. 
      tags:
        - Espace de travail
      security:
        - CookieAuth: []
      responses:
        '200':
          description: Liste des espaces de travail
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    description: liste des espaces de travail
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                          description: libellÃ© de l'espace de travail
                          example: "Nouvel espace de travail"
                        id:
                          $ref: "#/components/schemas/DidaskId"
                  error:
                    type: object
                    description: code erreur / null si aucune erreur.
                    example: null
                    nullable: true
        '403':
          $ref: '#/components/responses/UnauthorizedError'

    post:
      tags:
        - Espace de travail
      summary: CrÃ©er un nouvel espace
      description: >
        L'API crÃ©e un nouvel espace de travail avec les informations fournies dans le corps de la requÃªte. 

      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  description: nom de l'espace de travail
                  example: "Espace nÂ°3"
      responses:
        '200':
          description: Espace crÃ©Ã© avec succÃ¨s
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  data:
                    type: object
                    additionalProperties: false
                    properties:
                      name:
                        type: string
                        example: "Espace nÂ°3"
                        description: Nom du groupe crÃ©Ã©
                      id:
                        $ref: "#/components/schemas/DidaskId"
                  error:
                    nullable: true
                    type: object
                    $ref: '#/components/schemas/Error'
        '403':
          $ref: '#/components/responses/UnauthorizedError'


  /spaces/{spaceId}:
    get:
      summary: DÃ©tail d'un espace de travail.
      tags:
        - Espace de travail
      security:
        - CookieAuth: []
      parameters:
        - in: path
          name: spaceId
          description: Id de l'espace de travail que l'on recherche.
          required: true
          schema:
            $ref: '#/components/schemas/DidaskId'
      responses:
        '200':
          description: Informations sur l'espace
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Identifiant unique de l'espace de travail
                        example: "652d106cc882d704c06cb75e"
                      name:
                        type: string
                        description: Nom de l'espace de travail.
                        example: "Espace par dÃ©faut"
                  error:
                    type: object
                    description: Null car il n'y a pas d'erreur
                    nullable: true
                    example: null
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: >
            l'espace de travail demandÃ© n'existe pas.

            Le code erreur sera ``document.not_found`` 
          content:
            application/json:
              schema:
                type: object
                properties:
                  data: 
                    type: object
                    nullable: true
                    description: Aucune valeur ne sera retournÃ©e
                    example: null
                  error:
                    $ref: '#/components/schemas/Error'
        '500':
          description: |
            Erreur lors de la recherche de l'espace de travail. 
            
            
            Cela se produit nottament lorsque l'id demandÃ© n'est pas une chaine de 24 caractÃ¨res hexa.


            Le code erreur sera ``error.unknown``
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    description: Le champ data est null
                    example: null
                  error:
                    $ref: '#/components/schemas/Error'
    put:
      summary: Mise Ã  jour d'un espace de travail
      tags:
        - Espace de travail
      description: >
        Met Ã  jour les informations d'un espace existant. 
      parameters:
        - in: path
          name: spaceId
          required: true
          schema:
            type: string
          description: ID de l'espace Ã  mettre Ã  jour
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Nouveau nom"
      responses:
        '200':
          description: Espace mis Ã  jour avec succÃ¨s
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id:
                        type: string
                        example: "6617fbe0d11a56b2686c9e6b"
                      name:
                        type: string
                        example: "Nouveau nom"
                  error:  
                    type: object
                    nullable: true
        '403':
          $ref: '#/components/responses/UnauthorizedError'

    delete:
      summary: Suppression d'un espace de travail
      tags:
        - Espace de travail
      description: >
        Supprime un espace existant par son ID. 

        La suppression n'est possible que si l'espace de travail est vide. Dans le cas contraire, un code retour 500 sera renvoyÃ©.
      parameters:
        - in: path
          name: spaceId
          required: true
          schema:
            type: string
          description: ID de l'espace Ã  supprimer
      responses:
        '200':
          description: Espace supprimÃ© avec succÃ¨s
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  error:
                    type: string
                    nullable: true
                    example: null
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          description: Espace non trouvÃ©
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: L'espace de travail n'est pas vide, la suppression a Ã©chouÃ©.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /publications/{publicationId}/users/{userId}/progression:
    get:
      summary: RÃ©cupÃ©rer la progression dÃ©taillÃ©e d'un apprenant sur une publication
      description: RÃ©cupÃ¨re la progression dÃ©taillÃ©e d'un utilisateur pour une publication spÃ©cifique.
      tags:
        - Publication
        - Utilisateur
      parameters:
        - in: path
          name: publicationId
          required: true
          schema:
            type: string
            pattern: "^[a-fA-F0-9]{24}$"
          example: "623f311123438e114fvbcb31"
        - in: path
          name: userId
          required: true
          schema:
            type: string
            pattern: "^[a-fA-F0-9]{24}$"
          example: "123431123443abcd4fab1231"

      responses:
        '200':
          description: Progression dÃ©taillÃ©e de l'utilisateur pour la publication
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      email:
                        type: string
                        example: "razrtel.dunet@mator.com"
                        description: Email de l'apprenant
                      first_name:
                        type: string
                        example: "Razrtel"
                        description: PrÃ©nom de l'apprenant
                        #Fixme : passzer en Camel case comme le reste
                      last_name:
                        type: string
                        example: "Dunet"
                        description: Nom de famille de l'apprenant
                        #fixme : passer en camel case comme le reste
                      dateStarted:
                        type: string
                        format: date-time
                        nullable: true
                        example: "2022-04-28 15:48"
                        description: Date de dÃ©but de rÃ©alisation de la publication par l'apprenant
                      lastActivity:
                        type: string
                        format: date-time
                        example: "2022-04-29 07:13"
                        description: Date de derniÃ¨re activitÃ© rÃ©alisÃ©e par l'apprenant sur la publication (Visualisation ou rÃ©alisation d'exercices)
                      evaluationAttempts:
                        type: integer
                        example: 0
                        description: Nombre d'essais effectuÃ©s par l'apprenant pour valider la publication.
                      evaluationScore:
                        type: integer
                        nullable: true
                        example: null
                        description: Score obtenu 
                      name:
                        type: string
                        example: "Publication name"
                        description: Nom de la publication
                      modules:
                        type: array
                        items:
                          type: object
                          properties:
                            name:
                              type: object
                              properties:
                                fr:
                                  type: string
                                  description: LibellÃ© du module en francais
                                xx:
                                  type: string
                                  description: LibellÃ© du module en xx (anglais, allemand, ...). N'existe que si la traduction a Ã©tÃ© rÃ©alisÃ©e
                            duration:
                              type: integer
                              example: 10
                              description: DurÃ©e passÃ©e au total sur le module
                            score:
                              type: integer
                              example: 100
                              description: Score obtenu sur le module (Sur 100)
                      sessionDuration:
                        type: integer
                        example: 40
                        description: Temps passÃ© (en minutes) sur la publication par l'utilisateur.
                      completedModulesCount:
                        type: integer
                        description: Nombre de modules terminÃ©s
                        example: 2
                      completionPercentage:
                        type: integer
                        example: 50
                        description: Pourcentage de rÃ©alisation de la publication (= completedModulesCount / Nb de modules ).
                      id:
                        $ref: "#/components/schemas/DidaskId"
                        description: Id de la publication.
                        
                        
        '403':
          $ref: '#/components/responses/UnauthorizedError'

components:
  schemas:
    Utilisateur:
      type: object
      properties:
        data:
          type: object
          properties:
            id:
              type: string
              description: Identifiant unique de l'utilisateur
              example: 6310b7768493b1007f544763
            email:
              type: string
              description: Email de l'utilisateur
              example: "callentin@irtshdf.fr"
            first_name:
              type: string
              description: PrÃ©nom de l'utilisateur
              example: "cindy 2"
            last_name:
              type: string
              description: Nom de famille de l'utilisateur
              example: "allentin"
            date_created:
              type: string
              format: date-time
              description: Date de crÃ©ation de l'utilisateur au format ISO 8601
              example: "2022-09-01T13:45:26.866Z"
            date_updated:
              type: string
              format: date-time
              description: Date de derniÃ¨re mise Ã  jour de l'utilisateur au format ISO 8601
              example: "2024-10-08T15:37:38.247Z"
            oidcIssuer:
              type: string
              description: >
                  Identifiant du fournisseur d'identitÃ© OpenID Connect (OIDC) qui a Ã©mis le jeton pour cet utilisateur.
              example: "https://example-oidc.com/"
              nullable: true
            oidcSubject:
              type: string
              description: >
                  Identifiant unique de l'utilisateur dans le cadre de l'authentification OpenID Connect (OIDC).
              example: "abcd1234"
              nullable: true
            accessCode:
              type: string
              description: Matricule ou code d'accÃ¨s Ã  la plateforme. (Mode d'authentification alternatif Ã  l'email/password)
              example: "moncode23154"
              nullable: true
            roles:
              type: array
              description: Liste des rÃ´les de l'utilisateur
              items:
                type: string
              example: ["learner"]
            groups:
              type: array
              description: Liste des groupes auxquels l'utilisateur appartient (vide s'il n'appartient Ã  aucun groupe)
              items:
                type: string
              example: []
            publications:
              type: array
              description: Liste des publications auxquelles l'utilisateur a accÃ¨s
              items:
                type: object
                properties:
                  id:
                    $ref: "#/components/schemas/DidaskId"
                  name:
                    type: string
                    description: Nom de la publication
                    example: "Apprendre Ã  apprendre - Sciconum - DÃ©mo DD"
                  progression:
                    type: integer
                    description: Progression de l'utilisateur dans la publication
                    example: 0
                  link:
                    type: string
                    description: Lien vers la publication
                    example: "trial.didask.com/courses/apprendre-a-apprendre-sciconum-demo-dd?panel=introduction"
            disabledDate:
              type: string
              format: date-time
              nullable: true
              description: Date Ã  laquelle l'utilisateur a Ã©tÃ© dÃ©sactivÃ© (null si non dÃ©sactivÃ©).
              example: null
            preferredEmailingLanguage:
              type: string
              description: Langue prÃ©fÃ©rÃ©e pour les emails
              example: "fr"
            isEmailConfirmed:
              type: boolean
              description: Indique si l'adresse e-mail de l'utilisateur est confirmÃ©e
              example: true
            lastSeen:
              type: string
              format: date-time
              description: Date de derniÃ¨re connexion de l'utilisateur au format ISO 8601
              example: "2022-09-06T13:58:18.125Z"
            plateformInvitationDates:
              type: array
              items:
                type: string
              description: Liste des dates d'invitation de l'utilisateur
              example: []
            spacesIds:
              type: array
              description: Liste des ID des espaces associÃ©s Ã  l'utilisateur
              items:
                type: string
              example: ["65305dfc128086ef68c5d03f"]
            status:
              type: string
              enum: [standard, disabled, pending, invitation_sent, reactivated]
              description: |
                Status de l'utilisateur :

                  - standard : utilisateur actif
                  - disabled : utilisateur dÃ©sactivÃ©
                  - pending : utilisateur en attente d'activation
                  - invitation_sent : utilisateur a Ã©tÃ© invitÃ© Ã  la plateforme
                  - reactivated : utilisateur a Ã©tÃ© rÃ©activÃ©
              example: "standard"
    Publication:
      type: object
      properties:
        id:
          $ref: "#/components/schemas/DidaskId"
        name:
          type: string
          description: Nom de la publication
          example: "Management > La dÃ©finition des objectifs"
        link:
          type: string
          description: URL qui pointe vers la publication
          example: "trial.didask.com/courses/management-definition-objectifs"
        groups:
          description: Liste des groupes auxquels la publication est associÃ©e.
          type: array
          items:
            type: string
          example:
            - "641495c65218ca9148b4fb62"
            - "653768e071920846a7052f6c"
            - "62f612c505ebcd005e676b5a"
        users:
          type: array
          description: Liste des utilisateurs ayant accÃ¨s en tant qu'apprenant Ã  cette publication.
          items:
            type: object
            properties:
              id:
                $ref: "#/components/schemas/DidaskId"
              email:
                type: string
                example: "contact@didask.com"
                description: Mail de l'utilisateur
              progression:
                type: integer
                example: 25
                description: Pourcentage d'avancement de l'utilisation dans la rÃ©alisation de la publication
                # COMMENT EST CALCULE LA PROGRESSSION
          example:
            - id: "59ad6eb0092bd0000b6c4402"
              email: "contact@didask.com"
              progression: 0
            - id: "59ad6eb0092bd0000b6c4404"
              email: "contact1@didask.com"
              progression: 0
            - id: "6461f5cc133343b32a894e6b"
              email: "contact3@didask.com"
              progression: 20
        project:
          type: object
          description: Projet auquel la publication est rattachÃ©e.
          additionalProperties: false
          properties:
            id:
              $ref: '#/components/schemas/DidaskId'
            name:
              description: Nom du projet
              type: string
              example: "(Collection) Management"
            locales:
              description: |
                Un projet peut Ãªtre traduis dans plusieurs langues (en, cs, de, es, fr, it, ja, nl, pl, zh, ar, ru, pt, tr, uk, ro, vi). 
                Cette propriÃ©tÃ© retourne les clÃ©s des langues dans lesquelles le projet est effectivement traduit.
              type: array
              items:
                type: string
              example:
                - "fr"
      additionalProperties: false
    DidaskId:
      oneOf:
        - type: string
          description: ChaÃ®ne hexadÃ©cimale de 12 octets (24 caractÃ¨res hexadÃ©cimaux)
          pattern: "^[0-9a-fA-F]{24}$"
          example: "5f16fdf70abcf209d05f9d01"
        - type: integer
          description: Identifiant sous forme d'entier Ã©quivalent Ã  12 octets (96 bits)
          example: 123456789012345678901234
      description: |
        Identifiant unique utilisÃ© dans les objets Didask. 
        
        Il s'agit soit d'une chaÃ®ne hexadÃ©cimale de 12 octets, soit d'un entier de 96 bits
      additionalProperties: false
    Error:
      type: object
      description: format des messages d'erreur
      nullable: true
      properties:
          id:
              description: Identifiant unique de l'erreur
              $ref: "#/components/schemas/DidaskId"
          message:
              type: string
              description: Message dÃ©taillant l'erreur
              example: "il y a une erreur ..."
          code:
              type: string
              description: Code d'erreur spÃ©cifique
              example: "domain.error_code"
          status:
              type: integer
              description: Statut HTTP de l'erreur
              example: 500
          requestId:
              type: string
              format: uuid
              description: Identifiant unique de la requÃªte
              example: "0380f404-440f-4586-8135-337fc7b18760"
          cause:
              type: object
              description: Cause de l'erreur (vide par dÃ©faut)
              example: {}
      additionalProperties: false
    ErrorNull:
      type: string
      description: Absence d'erreur
      nullable: true
      example: null
      additionalProperties: false
    Group:
      type: object
      description: >
        Information de base sur le groupe de travail
      properties:
        id:
          type: string
          example: "670f64a6d3cd2e46ecd7775d"
          pattern: "^[a-fA-F0-9]{24}$"
          description: Identifiant unique du groupe d'utilisateurs
        name:
          type: string
          example: "Service comptabilitÃ©"
          description: Nom du groupe
            
    GroupDetail:
      #FIXME : le GroupDetail ne devrait pas exister. C'est un retour de la base de donnÃ©e non formatÃ©. 
      # Le risque c'est que des clients utilisent des donnÃ©es de ce retour est faible car on ne l'utilise
      # que comme rÃ©sultat de la crÃ©ation et de la modification des groupes.
      type: object
      description: >
        DÃ©tail du groupe utilisateur.
      properties:
        data:
          type: object
          properties:
            _id:
              #FIXME pourquoi y a t'il un underscore ?
              type: string
              example: "670f64a6d3cd2e46ecd7775d"
              pattern: "^[a-fA-F0-9]{24}$"
              description: Identifiant unique du groupe d'utilisateurs
            name:
              type: string
              example: "Nouveau nom"
              description: Nom du groupe
            expirationDate:
              type: string
              nullable: true
              example: null
              description: Date Ã  partir de laquelle les publications ne seront plus accessibles aux apprenants
            users:
              type: array
              description: Liste des utilisateurs associÃ©s au groupe
              items:
                type: string
              example:
                - "670f651971c666b64d57a8d5"
                - "6661758bc1ec3600177f42d1"
            publications:
              type: array
              description: Liste des publications accessibles pour les utilisateurs de ce groupe.
              items:
                type: string
              example:
                - "670f64507f4d95159cdd7ded"
            programs:
              type: array
              description: Liste des programmes accessibles pour les utilisateurs de ce groupe.
              deprecated: true
              items:
                type: string
              example: []
            createdBy:
              type: string
              example: "6661758bc1ec3600177f42d1"
              description: Identifiant de l'utilisateur qui a crÃ©Ã© le groupe
            editedBy:
              type: string
              example: "6661758bc1ec3600177f42d1"
              description: Identifiant du dernier utilisateur qui a modifiÃ© le groupe
            trainingSpace:
              type: string
              example: "670e75d78717971b4c7876d2"
              description: Identifiant de l'espace de travail auquel le groupe est associÃ©. Pour rappel, un groupe ne peut appartenir qu'Ã  un espace de travail.
            date_created:
              type: string
              format: date-time
              description: Date de crÃ©ation du groupe
              example: "2024-10-16T07:00:54.646Z"
            date_updated:
              type: string
              format: date-time
              description: date de derniÃ¨re modification du groupe
              example: "2024-10-18T09:25:57.656Z"
            __v:
              type: integer
              #FIXME : A quoi cela correspond ?
              example: 0



  securitySchemes:
    CookieAuth:
      type: apiKey
      in: cookie
      name: sid
      description: >
        Pour s'authentifier, il faut d'abord se connecter via l'API d'authentification
        qui renverra un cookie contenant la clÃ© `sid`. Le cookie `sid` doit ensuite
        Ãªtre inclus dans les requÃªtes suivantes pour accÃ©der aux points de terminaison protÃ©gÃ©s.

      # TODO documenter la gestion par Token
  
  responses:
    UnauthorizedError:
      description: Vous n'Ãªtes pas authentifiÃ©. Cf. Â§ sur l'authentification.
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: object
                properties:
                  id:
                    type: string 
                    format: uuid
                    example: "a5d95c14-d846-4966-9350-c5d66855242f"
                    description: Identifiant unique de l'erreur
                  message:
                    type: string
                    example: "You are not authorized to access this API"
                  code:
                    type: string
                    example: "auth.not_allowed"
                  requestId:
                    type: string
                    example: "9c9d84c6-1234-5678-90ab-cdef12345678"
                    format: uuid
                    description: Identifiant unique de la requÃªte
                  cause:
                    type: object
                    
